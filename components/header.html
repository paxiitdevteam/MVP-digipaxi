<header>
    <div class="branding">
        <h1>DigiPaxi</h1>
    </div>
    <nav class="navbar">
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about.html">About</a></li>
            <li><a href="/services.html">Services</a></li>
            <li><a href="/contact.html">Contact</a></li>
        </ul>
    </nav>
    <div class="language-selector">
        <label for="language">Language:</label>
        <select id="language">
            <option value="en">English</option>
            <option value="fr">French</option>
        </select>
    </div>
</header>

<style>
/* Header Styles */
header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    background-color: #333;
    color: #fff;
}

header .branding h1 {
    margin: 0;
    font-size: 24px;
}

header .navbar ul {
    list-style: none;
    display: flex;
    gap: 15px;
    margin: 0;
    padding: 0;
}

header .navbar ul li a {
    color: #fff;
    text-decoration: none;
    font-size: 16px;
}

header .navbar ul li a:hover {
    text-decoration: underline;
}

header .language-selector {
    display: flex;
    align-items: center;
    gap: 5px;
}

header .language-selector select {
    padding: 5px;
    font-size: 14px;
}
</style>

<script>
class ComponentLoader {
    static async init() {
        try {
            console.log('Initializing component loader...');
            await this.loadComponents();
            this.setupLanguageSwitcher();
            console.log('Components loaded successfully.');
        } catch (error) {
            console.error('Error during initialization:', error);
            document.body.innerHTML += `
                <div style="padding: 20px; background: #fee; color: #933; text-align: center;">
                    Error loading components. Please refresh the page.
                </div>
            `;
        }
    }

    static async loadComponents() {
        const components = {
            header: '/components/header.html',
            footer: '/components/footer.html'
        };

        for (const [id, path] of Object.entries(components)) {
            try {
                console.log(`Loading component: ${path}`);
                const element = document.getElementById(`${id}-placeholder`);
                if (!element) {
                    console.error(`Placeholder for ${id} not found`);
                    continue;
                }
                const response = await fetch(path);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const html = await response.text();
                element.innerHTML = html;
                console.log(`Successfully loaded ${id}`);
            } catch (error) {
                console.error(`Failed to load ${id}: `, error);
            }
        }
    }

    static setupLanguageSwitcher() {
        const languageSelector = document.getElementById('language');
        if (languageSelector) {
            languageSelector.addEventListener('change', (event) => {
                const selectedLanguage = event.target.value;
                console.log(`Language switched to: ${selectedLanguage}`);
                // Add logic to update the page content based on the selected language
            });
        }
    }
}

ComponentLoader.init();
</script>
